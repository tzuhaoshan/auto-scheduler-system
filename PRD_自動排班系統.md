# è‡ªå‹•æ’ç­ç³»çµ± PRD (Material Design 3)

## 1. å°ˆæ¡ˆé¡˜æ™¯

### 1.1 å°ˆæ¡ˆç›®æ¨™
æ‰“é€ ä¸€å€‹ç¬¦åˆ Material Design 3 è¨­è¨ˆå“²å­¸çš„æ™ºæ…§æ’ç­ç³»çµ±ã€‚æä¾›æ’ç­ç®¡ç†è€…èˆ‡å“¡å·¥ä¸€å€‹ç¾è§€ã€ç›´è¦ºã€ä¸”é«˜æ•ˆçš„æ’ç­é«”é©—ï¼Œè‡ªå‹•åŒ–è™•ç†è¤‡é›œçš„æ’ç­è¦å‰‡ï¼Œä¸¦åœ¨æ‰€æœ‰è£ç½®ä¸Šæä¾›ä¸€è‡´çš„æ„Ÿå—ã€‚

### 1.2 ç›®æ¨™ç”¨æˆ¶
- **ä¸»è¦ç”¨æˆ¶ï¼šæ’ç­ç®¡ç†è€…**
  - æ ¸å¿ƒä»»å‹™ï¼šå¿«é€Ÿã€å…¬å¹³åœ°å®Œæˆæ’ç­ï¼Œä¸¦è¼•é¬†ç®¡ç†ç­è¡¨ç•°å‹•ã€‚
- **æ¬¡è¦ç”¨æˆ¶ï¼šå“¡å·¥**
  - æ ¸å¿ƒä»»å‹™ï¼šæ¸…æ¥šæŸ¥çœ‹å€‹äººç­è¡¨ï¼Œä¸¦æ–¹ä¾¿åœ°ç”³è«‹ä¼‘å‡ã€æ›ç­èˆ‡ä»£ç­ã€‚

### 1.3 è¨­è¨ˆåŸå‰‡
- **ç¾å­¸èˆ‡å€‹äººåŒ–**: éµå¾ª Material Youï¼Œæä¾›å‹•æ…‹è‰²å½©èˆ‡ç¾ä»£åŒ–çš„è¦–è¦ºé¢¨æ ¼ã€‚
- **ç›´è¦ºèˆ‡é«˜æ•ˆ**: ç°¡åŒ–æ“ä½œæµç¨‹ï¼Œè®“ä½¿ç”¨è€…é€éè‡ªç„¶çš„äº’å‹•å®Œæˆä»»å‹™ã€‚
- **é©æ‡‰æ€§**: åœ¨æ‰‹æ©Ÿã€å¹³æ¿ã€æ¡Œé¢æä¾›ç„¡ç¸«çš„éŸ¿æ‡‰å¼é«”é©—ã€‚

---

## 2. æ ¸å¿ƒåŠŸèƒ½èˆ‡ä½¿ç”¨è€…æµç¨‹

### 2.1 ç­åˆ¥å®šç¾©

#### 2.1.1 ç­åˆ¥ç¸½è¦½
ç³»çµ±æ”¯æ´å››ç¨®ç­åˆ¥ï¼Œé‡å°è—¥å“è«®è©¢çµ„çš„æ¥­å‹™éœ€æ±‚è¨­è¨ˆï¼š

| ç­åˆ¥ | è‹±æ–‡ä»£ç¢¼ | æ™‚é–“ç¯„åœ | äººå“¡éœ€æ±‚ | å·¥ä½œå…§å®¹ | æ’ç­ç­–ç•¥ |
|------|----------|----------|----------|----------|----------|
| è«®è©¢å°å€¼åˆ | `noon` | 12:30-13:30 | 1äºº | è«®è©¢å°å€¼ç­ã€è™•ç†ç¾å ´è«®è©¢ | é è¨­æ’ç­ |
| è«®è©¢é›»è©± | `phone` | 09:00-18:00 | 1äºº | æ¥è½è«®è©¢é›»è©±ã€è™•ç†é›»è©±è«®è©¢ | é è¨­æ’ç­ |
| è«®è©¢å°ä¸Šåˆæ”¯æ´ | `morning` | 09:00-12:30 | 1äºº | è«®è©¢å°æ”¯æ´ã€å”åŠ©ç¾å ´è«®è©¢ | æŒ‰éœ€æ’ç­ |
| è«®è©¢å°ä¸‹åˆæ”¯æ´ | `afternoon` | 13:30-18:00 | 1äºº | è«®è©¢å°æ”¯æ´ã€å”åŠ©ç¾å ´è«®è©¢ | æŒ‰éœ€æ’ç­ |

#### 2.1.2 ç­åˆ¥è©³ç´°èªªæ˜

##### 1. è«®è©¢å°å€¼åˆ (noon)
- **æ™‚é–“**: 12:30-13:30 (åˆä¼‘æ™‚æ®µ)
- **äººå“¡éœ€æ±‚**: 1äºº (å¿…é ˆ)
- **å·¥ä½œå…§å®¹**: 
  - è«®è©¢å°å€¼ç­
  - è™•ç†ç¾å ´è«®è©¢
  - è™•ç†ç·Šæ€¥è«®è©¢éœ€æ±‚
- **æ’ç­ç­–ç•¥**: é è¨­æ’ç­ï¼Œæ¯æ—¥å¿…é ˆæœ‰äººå€¼ç­
- **å„ªå…ˆç´š**: æœ€é«˜ (1)

##### 2. è«®è©¢é›»è©± (phone)
- **æ™‚é–“**: 09:00-18:00 (å…¨å¤©)
- **äººå“¡éœ€æ±‚**: 1äºº (å¿…é ˆ)
- **å·¥ä½œå…§å®¹**:
  - æ¥è½è«®è©¢é›»è©±
  - è™•ç†é›»è©±è«®è©¢
  - è¨˜éŒ„è«®è©¢å…§å®¹
- **æ’ç­ç­–ç•¥**: é è¨­æ’ç­ï¼Œæ¯æ—¥å¿…é ˆæœ‰äººæ¥è½
- **å„ªå…ˆç´š**: é«˜ (2)

##### 3. è«®è©¢å°ä¸Šåˆæ”¯æ´ (morning)
- **æ™‚é–“**: 09:00-12:30 (ä¸Šåˆ)
- **äººå“¡éœ€æ±‚**: 1äºº (å½ˆæ€§)
- **å·¥ä½œå…§å®¹**:
  - è«®è©¢å°æ”¯æ´
  - å”åŠ©ç¾å ´è«®è©¢
  - è™•ç†ä¸€èˆ¬è«®è©¢
- **æ’ç­ç­–ç•¥**: æŒ‰éœ€æ’ç­ï¼Œè¦–æ¥­å‹™éœ€æ±‚æ±ºå®š
- **å„ªå…ˆç´š**: ä¸­ (3)

##### 4. è«®è©¢å°ä¸‹åˆæ”¯æ´ (afternoon)
- **æ™‚é–“**: 13:30-18:00 (ä¸‹åˆ)
- **äººå“¡éœ€æ±‚**: 1äºº (å½ˆæ€§)
- **å·¥ä½œå…§å®¹**:
  - è«®è©¢å°æ”¯æ´
  - å”åŠ©ç¾å ´è«®è©¢
  - è™•ç†ä¸€èˆ¬è«®è©¢
- **æ’ç­ç­–ç•¥**: æŒ‰éœ€æ’ç­ï¼Œè¦–æ¥­å‹™éœ€æ±‚æ±ºå®š
- **å„ªå…ˆç´š**: ä½ (4)

#### 2.1.3 ç­åˆ¥é…ç½®è¦å‰‡

##### é è¨­æ’ç­ç­åˆ¥ (Default Shifts)
- **noon**: è«®è©¢å°å€¼åˆ - æ¯æ—¥å¿…é ˆæ’ç­ï¼Œ1äºº
- **phone**: è«®è©¢é›»è©± - æ¯æ—¥å¿…é ˆæ’ç­ï¼Œ1äºº

##### æŒ‰éœ€æ’ç­ç­åˆ¥ (On-Demand Shifts)
- **morning**: è«®è©¢å°ä¸Šåˆæ”¯æ´ - è¦–éœ€æ±‚æ’ç­ï¼Œ1äºº
- **afternoon**: è«®è©¢å°ä¸‹åˆæ”¯æ´ - è¦–éœ€æ±‚æ’ç­ï¼Œ1äºº

#### 2.1.4 ç­åˆ¥æ™‚é–“é—œä¿‚

##### æ™‚é–“é‡ç–Šåˆ†æ
- **phone** (09:00-18:00) æ¶µè“‹å…¨å¤©ï¼Œèˆ‡å…¶ä»–ç­åˆ¥éƒ½æœ‰é‡ç–Š
- **morning** (09:00-12:30) èˆ‡ **phone** é‡ç–Š 3.5å°æ™‚
- **noon** (12:30-13:30) èˆ‡ **phone** é‡ç–Š 1å°æ™‚
- **afternoon** (13:30-18:00) èˆ‡ **phone** é‡ç–Š 4.5å°æ™‚

##### äººå“¡é…ç½®è¦å‰‡
- æ¯æ—¥æ¯äººæœ€å¤šæ’1å€‹ç­æ¬¡
- **noon** å’Œ **phone** ç‚ºä¸»è¦ç­åˆ¥ï¼Œå„ªå…ˆæ’ç­
- **morning** å’Œ **afternoon** ç‚ºæ”¯æ´ç­åˆ¥ï¼ŒæŒ‰éœ€æ’ç­
- åŒä¸€æ™‚æ®µå¯ä»¥æœ‰å¤šäººå€¼ç­ï¼ˆå¦‚ phone + morningï¼‰

#### 2.1.5 æ’ç­ç­–ç•¥

##### é è¨­æ’ç­é‚è¼¯
1. **å„ªå…ˆæ’ç­ noon å’Œ phone**ï¼šç¢ºä¿åŸºæœ¬æœå‹™ä¸ä¸­æ–·
2. **æŒ‰éœ€æ’ç­ morning å’Œ afternoon**ï¼šæ ¹æ“šæ¥­å‹™é‡æ±ºå®š
3. **å¹³è¡¡åˆ†é…**ï¼šç¢ºä¿å“¡å·¥ç­æ¬¡åˆ†é…å…¬å¹³

##### ç‰¹æ®Šæƒ…æ³è™•ç†
- **è«‹å‡å½±éŸ¿**ï¼šå·²æ‰¹å‡†çš„è«‹å‡æœƒå½±éŸ¿æ‰€æœ‰ç­åˆ¥çš„æ’ç­
- **äººå“¡ä¸è¶³**ï¼šå„ªå…ˆç¢ºä¿ noon å’Œ phone æœ‰äººå€¼ç­
- **æ¥­å‹™é«˜å³°**ï¼šå¯å¢åŠ  morning å’Œ afternoon æ”¯æ´

#### 2.1.6 æŠ€è¡“å¯¦ç¾

##### ç­åˆ¥é…ç½®å¸¸æ•¸
```javascript
const SHIFT_CONFIG = {
  noon: {
    timeRange: { start: '12:30', end: '13:30' },
    maxEmployees: 1,
    required: true,
    priority: 1
  },
  phone: {
    timeRange: { start: '09:00', end: '18:00' },
    maxEmployees: 1,
    required: true,
    priority: 2
  },
  morning: {
    timeRange: { start: '09:00', end: '12:30' },
    maxEmployees: 1,
    required: false,
    priority: 3
  },
  afternoon: {
    timeRange: { start: '13:30', end: '18:00' },
    maxEmployees: 1,
    required: false,
    priority: 4
  }
};

const DEFAULT_SHIFTS = ['noon', 'phone'];
const ON_DEMAND_SHIFTS = ['morning', 'afternoon'];
```

### 2.2 åŠŸèƒ½éœ€æ±‚

#### 2.2.1 Phase 1: MVP åŸºç¤åŠŸèƒ½ (Sprint 1-2)

##### 1.1 å“¡å·¥ç®¡ç†
**åŠŸèƒ½æè¿°**: ç®¡ç†å“¡å·¥åŸºæœ¬è³‡æ–™èˆ‡ç­åˆ¥è¨­å®š

**éœ€æ±‚è©³è¿°**:
- æ–°å¢å“¡å·¥ï¼šå§“åã€å“¡å·¥ç·¨è™Ÿã€å¯æ“”ä»»ç­åˆ¥
- ç·¨è¼¯å“¡å·¥è³‡æ–™
- åˆªé™¤å“¡å·¥ï¼ˆè»Ÿåˆªé™¤ï¼‰
- å“¡å·¥åˆ—è¡¨æª¢è¦–

**æŠ€è¡“è¦æ ¼**:
- Firestore Collection: `employees`
- è³‡æ–™çµæ§‹:
```javascript
{
  id: "string",
  name: "string", 
  employeeId: "string",
  
  // åŸºæœ¬è§’è‰²è¨­å®š
  roles: {
    morning: boolean,
    noon: boolean,
    afternoon: boolean,
    phone: boolean
  },
  
  // å€‹äººé™åˆ¶è¨­å®šï¼ˆå¯é…ç½®ï¼‰
  constraints: {
    dailyMax: 1,                    // å€‹äººæ¯æ—¥ç­æ¬¡ä¸Šé™ï¼ˆå›ºå®šç‚º1ï¼‰
    maxWeeklyShifts: 5,            // æ¯é€±æœ€å¤§ç­æ¬¡æ•¸
    minInterval: 1,                // æœ€å°é–“éš”å¤©æ•¸
    availableDays: [1,2,3,4,5],   // å¯æ’ç­çš„æ˜ŸæœŸå¹¾ï¼ˆ1=é€±ä¸€, 7=é€±æ—¥ï¼‰
    unavailableDates: [],          // ä¸å¯æ’ç­çš„ç‰¹å®šæ—¥æœŸ ["2024-01-15", "2024-01-16"]
    maxConsecutiveDays: 3          // æœ€å¤§é€£çºŒæ’ç­å¤©æ•¸
  },
  
  isActive: boolean,
  createdAt: Timestamp,
  updatedAt: Timestamp
}
```

##### 1.2 è«‹å‡ç®¡ç†
**åŠŸèƒ½æè¿°**: å“¡å·¥è«‹å‡ç”³è«‹èˆ‡ç®¡ç†è€…å¯©æ ¸ç³»çµ±

**ç®¡ç†è€…åŠŸèƒ½**:
- å¯©æ ¸è«‹å‡ç”³è«‹ï¼ˆæ‰¹å‡†/æ‹’çµ•ï¼‰
- ç·¨è¼¯è«‹å‡è³‡æ–™
- åˆªé™¤è«‹å‡è¨˜éŒ„
- è«‹å‡æ—¥æ›†æª¢è¦–
- è«‹å‡çµ±è¨ˆå ±è¡¨

**å“¡å·¥åŠŸèƒ½**:
- ç”³è«‹è«‹å‡ï¼šé–‹å§‹æ™‚é–“ã€çµæŸæ™‚é–“ã€è«‹å‡é¡å‹ã€åŸå› 
- æŸ¥çœ‹å€‹äººè«‹å‡è¨˜éŒ„
- æŸ¥çœ‹è«‹å‡ç”³è«‹ç‹€æ…‹
- å–æ¶ˆæœªå¯©æ ¸çš„è«‹å‡ç”³è«‹

**æŠ€è¡“è¦æ ¼**:
- Firestore Collection: `leaves`
- è³‡æ–™çµæ§‹:
```javascript
{
  id: "string",
  employeeId: "string",
  startTime: Timestamp, // UTC
  endTime: Timestamp,   // UTC
  leaveType: "annual" | "sick" | "personal",
  reason: "string",
  status: "pending" | "approved" | "rejected",
  appliedAt: Timestamp,
  reviewedAt: Timestamp,
  reviewedBy: "string", // å¯©æ ¸è€…ID
  reviewNote: "string"  // å¯©æ ¸å‚™è¨»
}
```

##### 1.3 ç°¡åŒ–ç‰ˆæ’ç­åŠŸèƒ½
**åŠŸèƒ½æè¿°**: åŸºç¤æ’ç­é‚è¼¯ï¼Œåƒ…è€ƒæ…®è«‹å‡èˆ‡æ™‚æ®µé‡ç–Š

**éœ€æ±‚è©³è¿°**:
- é¸æ“‡æ’ç­æ—¥æœŸç¯„åœ
- åŸ·è¡Œæ’ç­æ¼”ç®—æ³•
- é¡¯ç¤ºæ’ç­çµæœ (é è¦½)
- æ‰‹å‹•èª¿æ•´æ’ç­
- **ç¢ºèªä¸¦ç™¼ä½ˆç­è¡¨** (å°‡é è¦½çµæœå„²å­˜)

**æŠ€è¡“è¦æ ¼**:
- Cloud Function: `generateSchedule`
- è¼¸å…¥åƒæ•¸: `startDate`, `endDate`
- è¼¸å‡º: æ’ç­çµæœé™£åˆ—

##### 1.4 æ—¥æœŸç¯„åœæ’ç­åŠŸèƒ½
**åŠŸèƒ½æè¿°**: æ”¯æ´è‡ªå®šç¾©æ—¥æœŸç¯„åœçš„æ’ç­

**éœ€æ±‚è©³è¿°**:
- è‡ªå®šç¾©é–‹å§‹å’ŒçµæŸæ—¥æœŸ
- å¿«é€Ÿé¸æ“‡æŒ‰éˆ•ï¼ˆä¸‹é€±ã€ä¸‹æœˆã€è‡ªå®šç¾©ç¯„åœï¼‰
- æ—¥æœŸç¯„åœé©—è­‰
- é€±æœ«æ’é™¤é¸é …

**æŠ€è¡“è¦æ ¼**:
- æ—¥æœŸè¼¸å…¥æ¬„ä½: `schedule-start-date`, `schedule-end-date`
- å¿«é€Ÿé¸æ“‡æŒ‰éˆ•: `next-week-btn`, `next-month-btn`, `custom-range-btn`
- é€±æœ«æ’é™¤é¸é …: `exclude-weekends`
- é è¨­ç¯„åœ: ä¸‹é€±ï¼ˆ7å¤©ï¼‰

##### 1.5 ç­æ¬¡å„ªå…ˆç´šç®¡ç†
**åŠŸèƒ½æè¿°**: ç®¡ç†ä¸åŒç­æ¬¡çš„å„ªå…ˆç´šå’Œæ’ç­ç­–ç•¥

**éœ€æ±‚è©³è¿°**:
- ä¸»è¦ç­æ¬¡è¨­å®šï¼ˆå¿…é ˆæ’ç­ï¼‰
- æ¬¡è¦ç­æ¬¡è¨­å®šï¼ˆæŒ‰éœ€æ’ç­ï¼‰
- ç­æ¬¡å„ªå…ˆç´šæ’åº
- æ’ç­ç­–ç•¥é¸æ“‡

**æŠ€è¡“è¦æ ¼**:
```javascript
const SHIFT_PRIORITY = {
    noon: 1,           // è«®è©¢å°å€¼åˆ - æœ€é«˜å„ªå…ˆç´š
    phone: 2,          // è«®è©¢é›»è©± - ç¬¬äºŒå„ªå…ˆç´š
    morning: 3,        // è«®è©¢å°ä¸Šåˆæ”¯æ´ - è¼ƒä½å„ªå…ˆç´š
    afternoon: 4       // è«®è©¢å°ä¸‹åˆæ”¯æ´ - æœ€ä½å„ªå…ˆç´š
};

const PRIMARY_SHIFTS = ['noon', 'phone'];
const SECONDARY_SHIFTS = ['morning', 'afternoon'];
```

##### 1.6 ç­è¡¨ç®¡ç†åŠŸèƒ½
**åŠŸèƒ½æè¿°**: ç­è¡¨çš„æ¸…é™¤å’Œç®¡ç†æ“ä½œ

**éœ€æ±‚è©³è¿°**:
- æ¸…é™¤æ‰€æœ‰ç­è¡¨
- æ¸…é™¤æŒ‡å®šæ—¥æœŸç¯„åœçš„ç­è¡¨
- æ¸…é™¤ä¸‹é€±ç­è¡¨
- æ“ä½œç¢ºèªæ©Ÿåˆ¶

**æŠ€è¡“è¦æ ¼**:
- å‡½æ•¸: `clearSchedule()`, `clearScheduleRange()`
- ç¢ºèªå°è©±æ¡†
- æ‰¹æ¬¡åˆªé™¤æ“ä½œ
- éŒ¯èª¤è™•ç†æ©Ÿåˆ¶

##### 1.7 ç­è¡¨æª¢è¦–
**åŠŸèƒ½æè¿°**: å¤šè§’è‰²ç­è¡¨é¡¯ç¤ºç³»çµ±

**ç®¡ç†è€…åŠŸèƒ½**:
- å®Œæ•´ç­è¡¨æœˆæ›†/é€±æ›†æª¢è¦–
- æ‰€æœ‰å“¡å·¥ç­æ¬¡é¡¯ç¤º
- ç­æ¬¡é¡è‰²å€åˆ†
- é»æ“Šç·¨è¼¯åŠŸèƒ½
- ç­æ¬¡çµ±è¨ˆè³‡è¨Š

**å“¡å·¥åŠŸèƒ½**:
- å€‹äººç­è¡¨æª¢è¦–
- å€‹äººç­æ¬¡è¡Œäº‹æ›†
- ç­æ¬¡æé†’è¨­å®š
- ç­è¡¨åŒ¯å‡º (å€‹äºº)

**æŠ€è¡“è¦æ ¼**:
- Firestore Collection: `schedules/{YYYY-MM-DD}`
- è³‡æ–™çµæ§‹:
```javascript
{
  date: "YYYY-MM-DD",
  shifts: {
    morning: {
      employeeId: "string",
      assignedAt: Timestamp,
      isManual: boolean
    },
    noon: { ... },
    afternoon: { ... },
    phone: { ... }
  }
}
```

##### 1.8 ç”¨æˆ¶èªè­‰èˆ‡æ¬Šé™ç®¡ç†
**åŠŸèƒ½æè¿°**: å¤šè§’è‰²ç”¨æˆ¶ç³»çµ±

**éœ€æ±‚è©³è¿°**:
- Firebase Authentication æ•´åˆ
- è§’è‰²å‹æ¬Šé™æ§åˆ¶ (RBAC)
- ç”¨æˆ¶è³‡æ–™ç®¡ç†
- å¯†ç¢¼é‡è¨­åŠŸèƒ½

**ç”¨æˆ¶è§’è‰²**:
```javascript
{
  roles: {
    admin: "ç³»çµ±ç®¡ç†å“¡",
    manager: "æ’ç­ç®¡ç†è€…", 
    employee: "ä¸€èˆ¬å“¡å·¥"
  }
}
```

**æ¬Šé™è¨­å®š**:
```javascript
{
  permissions: {
    admin: ["*"],  // æ‰€æœ‰æ¬Šé™
    manager: [
      "employees:read", "employees:write",
      "leaves:read", "leaves:write", "leaves:approve",
      "schedules:read", "schedules:write",
      "stats:read"
    ],
    employee: [
      "employees:read:self",
      "leaves:read:self", "leaves:write:self",
      "schedules:read:self"
    ]
  }
}
```

**æŠ€è¡“è¦æ ¼**:
- Firestore Collection: `users`
- è³‡æ–™çµæ§‹:
```javascript
{
  uid: "string",        // Firebase Auth UID
  email: "string",
  role: "admin" | "manager" | "employee",
  employeeId: "string", // é—œè¯åˆ° employees collection
  isActive: boolean,
  createdAt: Timestamp,
  lastLoginAt: Timestamp
}
```

##### 1.9 å“¡å·¥ç‰¹æ®Šè¦å‰‡ç®¡ç†
**åŠŸèƒ½æè¿°**: ç®¡ç†å“¡å·¥å€‹äººæ’ç­é™åˆ¶è¨­å®š

**ç®¡ç†è€…åŠŸèƒ½**:
- è¨­å®šå“¡å·¥å€‹äººé™åˆ¶ï¼ˆæ¯æ—¥ä¸Šé™ã€æ¯é€±ä¸Šé™ã€é–“éš”å¤©æ•¸ï¼‰
- è¨­å®šå“¡å·¥å¯ç”¨æ™‚é–“ï¼ˆæ˜ŸæœŸå¹¾ã€ç‰¹å®šæ—¥æœŸï¼‰
- æ‰¹é‡è¨­å®šå“¡å·¥è¦å‰‡
- è¦å‰‡è¡çªæª¢æ¸¬èˆ‡é©—è­‰
- è¦å‰‡æ¨¡æ¿ç®¡ç†

**éœ€æ±‚è©³è¿°**:
- å€‹äººé™åˆ¶è¨­å®šï¼šæ¯é€±æœ€å¤§ç­æ¬¡ã€æœ€å°é–“éš”ã€é€£çºŒå¤©æ•¸é™åˆ¶
- å¯ç”¨æ™‚é–“ç®¡ç†ï¼šå¯æ’ç­çš„æ˜ŸæœŸå¹¾ã€ç‰¹å®šä¸å¯ç”¨æ—¥æœŸ
- æ‰¹é‡æ“ä½œï¼šé¸æ“‡å¤šå€‹å“¡å·¥é€²è¡Œæ‰¹é‡è¨­å®š
- é©—è­‰æ©Ÿåˆ¶ï¼šè¨­å®šå€¼åˆç†æ€§æª¢æŸ¥ã€é‚è¼¯è¡çªæª¢æ¸¬
- æ¨¡æ¿åŠŸèƒ½ï¼šé è¨­è¦å‰‡æ¨¡æ¿ï¼ˆä¸€èˆ¬å“¡å·¥ã€å…¼è·å“¡å·¥ã€ç‰¹æ®Šå“¡å·¥ï¼‰

**æŠ€è¡“è¦æ ¼**:
- æ•´åˆæ–¼ `employees` collection ä¸­
- é…ç½®é©—è­‰è¦å‰‡:
```javascript
const VALIDATION_RULES = {
  dailyMax: { min: 1, max: 1, fixed: true },        // å›ºå®šç‚º1
  maxWeeklyShifts: { min: 1, max: 7 },             // 1-7æ¬¡
  minInterval: { min: 0, max: 7 },                  // 0-7å¤©
  maxConsecutiveDays: { min: 1, max: 7 },          // 1-7å¤©
  availableDays: { min: 1, max: 7 },               // è‡³å°‘1å¤©
  priority: { min: -1, max: 1 }                    // -1åˆ°1
};

// è¡çªæª¢æ¸¬
const CONFLICT_RULES = {
  availabilityConflict: "å¯ç”¨æ™‚é–“ä¸èƒ½ç‚ºç©º",
  weeklyLimitTooHigh: "æ¯é€±ä¸Šé™ä¸èƒ½è¶…éå¯ç”¨å¤©æ•¸"
};
```

**ç®¡ç†ä»‹é¢è¨­è¨ˆ**:
- å“¡å·¥è¦å‰‡è¨­å®šå°è©±æ¡†
- æ‰¹é‡è¨­å®šå·¥å…·
- è¦å‰‡æ¨¡æ¿é¸æ“‡å™¨
- è¡çªè­¦å‘Šæç¤º
- è¨­å®šé è¦½åŠŸèƒ½

##### 1.10 åœ‹å®šå‡æ—¥ç®¡ç†
**åŠŸèƒ½æè¿°**: ç®¡ç†åœ‹å®šå‡æ—¥èˆ‡ä¾‹å‡æ—¥çš„æ’ç­æ’é™¤è¨­å®š

**ç®¡ç†è€…åŠŸèƒ½**:
- è¨­å®šå¹´åº¦åœ‹å®šå‡æ—¥æ¸…å–®
- é¸æ“‡æ€§æ’é™¤ç‰¹å®šåœ‹å®šå‡æ—¥æ’ç­
- ä¾‹å‡æ—¥æ’ç­æ’é™¤è¨­å®šï¼ˆé€±å…­ã€é€±æ—¥ï¼‰
- å‡æ—¥æ’ç­ä¾‹å¤–è¨­å®šï¼ˆç·Šæ€¥æƒ…æ³å¯æ’ç­ï¼‰
- å‡æ—¥è¡Œäº‹æ›†æª¢è¦–
- æ‰¹é‡å‡æ—¥è¨­å®š

**éœ€æ±‚è©³è¿°**:
- åœ‹å®šå‡æ—¥æ¸…å–®ç®¡ç†ï¼šæ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤åœ‹å®šå‡æ—¥
- æ’ç­æ’é™¤è¨­å®šï¼šé¸æ“‡å“ªäº›å‡æ—¥ä¸æ’ç­
- ä¾‹å‡æ—¥è¨­å®šï¼šé€±å…­ã€é€±æ—¥æ’ç­æ§åˆ¶
- ä¾‹å¤–è™•ç†ï¼šç‰¹æ®Šæƒ…æ³ä¸‹çš„å‡æ—¥æ’ç­
- å¹´åº¦è¦åŠƒï¼šæ”¯æ´å¤šå¹´åº¦å‡æ—¥è¨­å®š
- å‡æ—¥æ¨¡æ¿ï¼šå¸¸ç”¨å‡æ—¥çµ„åˆå¿«é€Ÿè¨­å®š

**æŠ€è¡“è¦æ ¼**:
- Firestore Collection: `holidays`
- è³‡æ–™çµæ§‹:
```javascript
{
  id: "string",
  name: "string",                    // å‡æ—¥åç¨± "æ˜¥ç¯€"ã€"ä¸­ç§‹ç¯€"
  date: "YYYY-MM-DD",               // å‡æ—¥æ—¥æœŸ
  type: "national" | "weekend",      // å‡æ—¥é¡å‹
  excludeFromScheduling: boolean,    // æ˜¯å¦æ’é™¤æ’ç­
  isRecurring: boolean,             // æ˜¯å¦æ¯å¹´é‡è¤‡
  recurringRule: {                  // é‡è¤‡è¦å‰‡ï¼ˆå¦‚è¾²æ›†ç¯€æ—¥ï¼‰
    type: "lunar" | "solar" | "relative",
    monthDay: "string",             // "01-01" æˆ– "12-25"
    weekRule: "string"              // "ç¬¬äºŒå€‹é€±ä¸€" ç­‰
  },
  year: number,                     // é©ç”¨å¹´ä»½
  createdAt: Timestamp,
  updatedAt: Timestamp
}

// ç³»çµ±è¨­å®š
{
  id: "holiday_settings",
  weekendExclude: {
    saturday: boolean,              // é€±å…­æ’é™¤æ’ç­
    sunday: boolean                 // é€±æ—¥æ’é™¤æ’ç­
  },
  nationalHolidayExclude: boolean,  // åœ‹å®šå‡æ—¥æ’é™¤æ’ç­ï¼ˆå…¨éƒ¨ï¼‰
  customExclusions: string[],       // è‡ªè¨‚æ’é™¤æ—¥æœŸæ¸…å–®
  emergencyOverride: boolean,       // ç·Šæ€¥æƒ…æ³å¯è¦†è“‹
  lastUpdated: Timestamp
}
```

**å°ç£åœ‹å®šå‡æ—¥é è¨­æ¸…å–®**:
```javascript
const TAIWAN_NATIONAL_HOLIDAYS = [
  { name: "ä¸­è¯æ°‘åœ‹é–‹åœ‹ç´€å¿µæ—¥", date: "01-01", type: "solar" },
  { name: "æ˜¥ç¯€", date: "è¾²æ›†12-30~01-03", type: "lunar" },
  { name: "å’Œå¹³ç´€å¿µæ—¥", date: "02-28", type: "solar" },
  { name: "å…’ç«¥ç¯€", date: "04-04", type: "solar" },
  { name: "æ°‘æ—æƒå¢“ç¯€", date: "æ¸…æ˜", type: "lunar" },
  { name: "å‹å‹•ç¯€", date: "05-01", type: "solar" },
  { name: "ç«¯åˆç¯€", date: "è¾²æ›†05-05", type: "lunar" },
  { name: "ä¸­ç§‹ç¯€", date: "è¾²æ›†08-15", type: "lunar" },
  { name: "åœ‹æ…¶æ—¥", date: "10-10", type: "solar" }
];
```

**å‡æ—¥æª¢æ¸¬å‡½æ•¸**:
```javascript
// æª¢æŸ¥æ˜¯å¦ç‚ºæ’é™¤æ—¥æœŸ
function isExcludedDate(date) {
  const dayOfWeek = date.getDay();
  const dateStr = date.toISOString().split('T')[0];
  
  // æª¢æŸ¥ä¾‹å‡æ—¥
  const settings = getHolidaySettings();
  if ((dayOfWeek === 0 && settings.weekendExclude.sunday) ||
      (dayOfWeek === 6 && settings.weekendExclude.saturday)) {
    return { excluded: true, reason: "ä¾‹å‡æ—¥" };
  }
  
  // æª¢æŸ¥åœ‹å®šå‡æ—¥
  const holiday = getHoliday(dateStr);
  if (holiday && holiday.excludeFromScheduling) {
    return { excluded: true, reason: `åœ‹å®šå‡æ—¥: ${holiday.name}` };
  }
  
  // æª¢æŸ¥è‡ªè¨‚æ’é™¤æ—¥æœŸ
  if (settings.customExclusions.includes(dateStr)) {
    return { excluded: true, reason: "è‡ªè¨‚æ’é™¤æ—¥æœŸ" };
  }
  
  return { excluded: false };
}

// ç·Šæ€¥è¦†è“‹æª¢æŸ¥
function canOverrideHoliday(date, reason) {
  const settings = getHolidaySettings();
  return settings.emergencyOverride && reason === "emergency";
}
```

**ç®¡ç†ä»‹é¢è¨­è¨ˆ**:
- å‡æ—¥è¡Œäº‹æ›†æª¢è¦–ï¼ˆé¡¯ç¤ºæ‰€æœ‰å‡æ—¥å’Œæ’ç­ç‹€æ…‹ï¼‰
- å‡æ—¥æ¸…å–®ç®¡ç†ï¼ˆæ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤å‡æ—¥ï¼‰
- æ’ç­æ’é™¤è¨­å®šé¢æ¿
- ç·Šæ€¥æ’ç­è¦†è“‹åŠŸèƒ½
- å‡æ—¥æ¨¡æ¿é¸æ“‡å™¨

##### 1.11 æ›ç­èˆ‡ä»£ç­ç®¡ç†
**åŠŸèƒ½æè¿°**: å“¡å·¥é–“çš„ç­æ¬¡èª¿æ›å’Œä»£ç­ç”³è«‹ç³»çµ±

**æ›ç­åŠŸèƒ½**:
- å“¡å·¥ç™¼èµ·æ›ç­ç”³è«‹ï¼ˆèˆ‡å…¶ä»–å“¡å·¥äº’æ›ç­æ¬¡ï¼‰
- é›™æ–¹ç¢ºèªæ›ç­å”è­°
- ç®¡ç†è€…å¯©æ ¸æ›ç­ç”³è«‹
- è‡ªå‹•æ›´æ–°ç­è¡¨å’Œçµ±è¨ˆè³‡æ–™
- æ›ç­æ­·å²è¨˜éŒ„

**ä»£ç­åŠŸèƒ½**:
- å“¡å·¥ç™¼èµ·ä»£ç­è«‹æ±‚ï¼ˆè«‹å…¶ä»–å“¡å·¥ä»£ç­ï¼‰
- å…¶ä»–å“¡å·¥æ¥å—ä»£ç­è«‹æ±‚
- ç®¡ç†è€…å¯©æ ¸ä»£ç­ç”³è«‹
- è‡ªå‹•è™•ç†ç­è¡¨è®Šæ›´
- ä»£ç­è£œå„Ÿè¨˜éŒ„

**éœ€æ±‚è©³è¿°**:
- æ›ç­ç”³è«‹ï¼šå“¡å·¥å¯é¸æ“‡è¦æ›çš„ç­æ¬¡å’Œå°è±¡
- ä»£ç­è«‹æ±‚ï¼šå“¡å·¥å¯è«‹æ±‚ç‰¹å®šæ—¥æœŸçš„ä»£ç­
- é›™å‘ç¢ºèªï¼šç›¸é—œå“¡å·¥éƒ½éœ€è¦ç¢ºèªåŒæ„
- ç®¡ç†è€…å¯©æ ¸ï¼šæœ€çµ‚ç”±ç®¡ç†è€…æ‰¹å‡†æˆ–æ‹’çµ•
- æ¢ä»¶æª¢æŸ¥ï¼šé©—è­‰æ›ç­/ä»£ç­çš„åˆç†æ€§
- è‡ªå‹•æ›´æ–°ï¼šå¯©æ ¸é€šéå¾Œè‡ªå‹•æ›´æ–°ç­è¡¨
- é€šçŸ¥ç³»çµ±ï¼šç›¸é—œäººå“¡å³æ™‚é€šçŸ¥

**æŠ€è¡“è¦æ ¼**:
- Firestore Collection: `shiftChanges`
- è³‡æ–™çµæ§‹:
```javascript
{
  id: "string",
  type: "swap" | "cover",              // æ›ç­æˆ–ä»£ç­
  status: "pending" | "approved" | "rejected" | "cancelled",
  
  // ç”³è«‹è€…è³‡è¨Š
  requesterId: "string",               // ç”³è«‹è€…å“¡å·¥ID
  requesterShift: {
    date: "YYYY-MM-DD",
    shift: "morning" | "noon" | "afternoon" | "phone" | "verify",
    originalAssignee: "string"         // åŸæ’ç­å“¡å·¥ID
  },
  
  // æ›ç­å°è±¡è³‡è¨Šï¼ˆåƒ…æ›ç­ä½¿ç”¨ï¼‰
  targetId: "string",                  // æ›ç­å°è±¡å“¡å·¥ID
  targetShift: {
    date: "YYYY-MM-DD", 
    shift: "morning" | "noon" | "afternoon" | "phone" | "verify",
    originalAssignee: "string"
  },
  
  // ä»£ç­å°è±¡è³‡è¨Šï¼ˆåƒ…ä»£ç­ä½¿ç”¨ï¼‰
  coverId: "string",                   // ä»£ç­å“¡å·¥ID
  
  // ç”³è«‹è³‡è¨Š
  reason: "string",                    // ç”³è«‹åŸå› 
  requestedAt: Timestamp,              // ç”³è«‹æ™‚é–“
  
  // ç¢ºèªç‹€æ…‹
  requesterConfirmed: boolean,         // ç”³è«‹è€…ç¢ºèª
  targetConfirmed: boolean,            // å°æ–¹ç¢ºèªï¼ˆæ›ç­ï¼‰
  coverConfirmed: boolean,             // ä»£ç­è€…ç¢ºèªï¼ˆä»£ç­ï¼‰
  
  // å¯©æ ¸è³‡è¨Š
  reviewedBy: "string",                // å¯©æ ¸è€…ID
  reviewedAt: Timestamp,               // å¯©æ ¸æ™‚é–“
  reviewNote: "string",                // å¯©æ ¸å‚™è¨»
  
  // åŸ·è¡Œç‹€æ…‹
  executed: boolean,                   // æ˜¯å¦å·²åŸ·è¡Œ
  executedAt: Timestamp,               // åŸ·è¡Œæ™‚é–“
  
  createdAt: Timestamp,
  updatedAt: Timestamp
}
```

**æ›ç­æµç¨‹**:
```javascript
// æ›ç­ç”³è«‹æµç¨‹
const SWAP_WORKFLOW = {
  1: "ç”³è«‹è€…ç™¼èµ·æ›ç­ç”³è«‹",
  2: "ç³»çµ±æª¢æŸ¥æ›ç­æ¢ä»¶ï¼ˆæ™‚é–“è¡çªã€å€‹äººé™åˆ¶ç­‰ï¼‰",
  3: "é€šçŸ¥æ›ç­å°è±¡ç¢ºèª",
  4: "é›™æ–¹ç¢ºèªå¾Œæäº¤ç®¡ç†è€…å¯©æ ¸",
  5: "ç®¡ç†è€…å¯©æ ¸æ‰¹å‡†/æ‹’çµ•",
  6: "å¯©æ ¸é€šéå¾Œè‡ªå‹•æ›´æ–°ç­è¡¨",
  7: "é€šçŸ¥ç›¸é—œäººå“¡å®Œæˆæ›ç­"
};

// ä»£ç­ç”³è«‹æµç¨‹  
const COVER_WORKFLOW = {
  1: "ç”³è«‹è€…ç™¼èµ·ä»£ç­è«‹æ±‚",
  2: "ç³»çµ±æª¢æŸ¥ä»£ç­æ¢ä»¶",
  3: "é€šçŸ¥å¯ä»£ç­å“¡å·¥æˆ–æŒ‡å®šä»£ç­è€…",
  4: "ä»£ç­è€…ç¢ºèªæ¥å—",
  5: "æäº¤ç®¡ç†è€…å¯©æ ¸",
  6: "ç®¡ç†è€…å¯©æ ¸æ‰¹å‡†/æ‹’çµ•", 
  7: "å¯©æ ¸é€šéå¾Œè‡ªå‹•æ›´æ–°ç­è¡¨",
  8: "è¨˜éŒ„ä»£ç­è£œå„Ÿè³‡è¨Š"
};
```

**æ¢ä»¶æª¢æŸ¥è¦å‰‡**:
```javascript
// æ›ç­æ¢ä»¶æª¢æŸ¥
function validateSwapRequest(requesterShift, targetShift, requesterId, targetId) {
  const errors = [];
  
  // åŸºæœ¬æ¢ä»¶æª¢æŸ¥
  if (requesterShift.date === targetShift.date) {
    errors.push("ä¸èƒ½åœ¨åŒä¸€å¤©å…§æ›ç­");
  }
  
  // å“¡å·¥è§’è‰²æª¢æŸ¥
  const requester = getEmployee(requesterId);
  const target = getEmployee(targetId);
  
  if (!requester.roles[targetShift.shift]) {
    errors.push(`ç”³è«‹è€…ä¸å…·å‚™ ${targetShift.shift} ç­åˆ¥è§’è‰²`);
  }
  
  if (!target.roles[requesterShift.shift]) {
    errors.push(`æ›ç­å°è±¡ä¸å…·å‚™ ${requesterShift.shift} ç­åˆ¥è§’è‰²`);
  }
  
  // å€‹äººé™åˆ¶æª¢æŸ¥
  if (!checkPersonalConstraints(requesterId, targetShift)) {
    errors.push("ç”³è«‹è€…å€‹äººé™åˆ¶ä¸å…è¨±æ­¤ç­æ¬¡");
  }
  
  if (!checkPersonalConstraints(targetId, requesterShift)) {
    errors.push("æ›ç­å°è±¡å€‹äººé™åˆ¶ä¸å…è¨±æ­¤ç­æ¬¡");
  }
  
  // è«‹å‡è¡çªæª¢æŸ¥
  if (isOnLeave(requesterId, targetShift.date)) {
    errors.push("ç”³è«‹è€…åœ¨æ›ç­æ—¥æœŸæœ‰è«‹å‡");
  }
  
  if (isOnLeave(targetId, requesterShift.date)) {
    errors.push("æ›ç­å°è±¡åœ¨æ›ç­æ—¥æœŸæœ‰è«‹å‡");
  }
  
  return errors;
}

// ä»£ç­æ¢ä»¶æª¢æŸ¥
function validateCoverRequest(originalShift, coverId) {
  const errors = [];
  
  const cover = getEmployee(coverId);
  
  // è§’è‰²æª¢æŸ¥
  if (!cover.roles[originalShift.shift]) {
    errors.push(`ä»£ç­è€…ä¸å…·å‚™ ${originalShift.shift} ç­åˆ¥è§’è‰²`);
  }
  
  // å€‹äººé™åˆ¶æª¢æŸ¥
  if (!checkPersonalConstraints(coverId, originalShift)) {
    errors.push("ä»£ç­è€…å€‹äººé™åˆ¶ä¸å…è¨±æ­¤ç­æ¬¡");
  }
  
  // è«‹å‡è¡çªæª¢æŸ¥
  if (isOnLeave(coverId, originalShift.date)) {
    errors.push("ä»£ç­è€…åœ¨è©²æ—¥æœŸæœ‰è«‹å‡");
  }
  
  // å·²æ’ç­æª¢æŸ¥
  if (isAlreadyScheduled(coverId, originalShift.date)) {
    errors.push("ä»£ç­è€…åœ¨è©²æ—¥æœŸå·²æœ‰æ’ç­");
  }
  
  return errors;
}
```

**è‡ªå‹•åŸ·è¡Œæ©Ÿåˆ¶**:
```javascript
// æ›ç­åŸ·è¡Œ
async function executeSwap(swapRequest) {
  const { requesterShift, targetShift, requesterId, targetId } = swapRequest;
  
  // æ›´æ–°ç­è¡¨
  await updateSchedule(requesterShift.date, requesterShift.shift, targetId);
  await updateSchedule(targetShift.date, targetShift.shift, requesterId);
  
  // æ›´æ–°çµ±è¨ˆè³‡æ–™
  await updateEmployeeStats(requesterId, requesterShift.shift, -1);
  await updateEmployeeStats(requesterId, targetShift.shift, +1);
  await updateEmployeeStats(targetId, targetShift.shift, -1);
  await updateEmployeeStats(targetId, requesterShift.shift, +1);
  
  // è¨˜éŒ„åŸ·è¡Œç‹€æ…‹
  await updateShiftChange(swapRequest.id, { 
    executed: true, 
    executedAt: new Date() 
  });
  
  // ç™¼é€é€šçŸ¥
  await sendNotification([requesterId, targetId], "æ›ç­å·²å®Œæˆ");
}

// ä»£ç­åŸ·è¡Œ
async function executeCover(coverRequest) {
  const { requesterShift, requesterId, coverId } = coverRequest;
  
  // æ›´æ–°ç­è¡¨
  await updateSchedule(requesterShift.date, requesterShift.shift, coverId);
  
  // æ›´æ–°çµ±è¨ˆè³‡æ–™
  await updateEmployeeStats(requesterId, requesterShift.shift, -1);
  await updateEmployeeStats(coverId, requesterShift.shift, +1);
  
  // è¨˜éŒ„ä»£ç­è£œå„Ÿ
  await recordCoverCompensation(coverId, requesterShift);
  
  // è¨˜éŒ„åŸ·è¡Œç‹€æ…‹
  await updateShiftChange(coverRequest.id, { 
    executed: true, 
    executedAt: new Date() 
  });
  
  // ç™¼é€é€šçŸ¥
  await sendNotification([requesterId, coverId], "ä»£ç­å·²å®Œæˆ");
}
```

#### 2.2.2 Phase 2: æ ¸å¿ƒæ¼”ç®—æ³• (Sprint 3-4)

##### 2.1 æ™ºæ…§æ’ç­æ¼”ç®—æ³•
**åŠŸèƒ½æè¿°**: å®Œæ•´çš„æ’ç­é‚è¼¯ï¼ŒåŒ…å«ä¸‰ç´šå¹³è¡¡æ©Ÿåˆ¶

**æ ¸å¿ƒé‚è¼¯**:
1. **å€™é¸äººç¯©é¸**ï¼š
   - åŸºæœ¬ç¯©é¸ï¼šæœ‰è©²ç­åˆ¥è§’è‰²çš„å“¡å·¥
   - è«‹å‡ç¯©é¸ï¼šæ’é™¤ç•¶å¤©è«‹å‡çš„å“¡å·¥
   - æ¯æ—¥ä¸Šé™ï¼šæ’é™¤ç•¶å¤©å·²æ’ç­çš„å“¡å·¥

2. **ä¸‰ç´šå¹³è¡¡æ’åº**ï¼š
   - ä¸»è¦æ’åºï¼šç•¶æ¬¡æ’ç­è©²ç­åˆ¥æ¬¡æ•¸ï¼ˆå‡åºï¼‰
   - æ¬¡è¦æ’åºï¼šé•·æœŸçµ±è¨ˆè©²ç­åˆ¥æ¬¡æ•¸ï¼ˆå‡åºï¼‰
   - ç¬¬ä¸‰ç´šæ’åºï¼šSeedéš¨æ©Ÿåˆ†æ´¾ï¼ˆç•¶å‰å…©ç´šç›¸åŒæ™‚ï¼‰

3. **å“¡å·¥é¸æ“‡**ï¼š
   - é¸æ“‡æ’åºå¾Œçš„ç¬¬ä¸€å€‹å€™é¸äºº
   - æ›´æ–°çµ±è¨ˆè³‡æ–™
**åŠŸèƒ½æè¿°**: å®Œæ•´çš„æ’ç­é‚è¼¯ï¼ŒåŒ…å«å¹³è¡¡æ©Ÿåˆ¶

**éœ€æ±‚è©³è¿°**:
- å€™é¸äººç¯©é¸ï¼ˆæ’é™¤è«‹å‡ã€æ¯æ—¥ä¸Šé™ï¼‰
- ä¸‰ç´šå¹³è¡¡æ’åºï¼ˆç•¶æ¬¡æ’ç­ã€é•·æœŸçµ±è¨ˆã€Seedéš¨æ©Ÿï¼‰
- çµ±è¨ˆè³‡æ–™ç®¡ç†ï¼ˆç•¶æ¬¡æ’ç­ã€é•·æœŸçµ±è¨ˆï¼‰
- æ±ºç­–æ—¥èªŒè¨˜éŒ„

**æ¼”ç®—æ³•æµç¨‹**:
1. è¼‰å…¥æ‰€æœ‰ç›¸é—œè³‡æ–™ï¼ˆå“¡å·¥ã€å·²æ‰¹å‡†è«‹å‡ã€ç¾æœ‰ç­è¡¨ã€çµ±è¨ˆè³‡æ–™ã€å€‹äººè¦å‰‡ï¼‰
2. å°æ¯å€‹æ—¥æœŸã€æ¯å€‹ç­åˆ¥ï¼š
   - ç¯©é¸ç¬¦åˆæ¢ä»¶çš„å€™é¸äººï¼š
     * æœ‰è©²ç­åˆ¥è§’è‰²
     * æœªè«‹å‡
     * ç•¶å¤©æœªæ’ç­
     * ç¬¦åˆå€‹äººé™åˆ¶ï¼ˆæ¯æ—¥ä¸Šé™ã€å¯ç”¨æ™‚é–“ã€é€±é–“éš”ç­‰ï¼‰
       - **ä¸‰ç´šå¹³è¡¡æ’åº**ï¼š
      * **ä¸»è¦æ’åº**ï¼šç•¶æ¬¡æ’ç­è©²ç­åˆ¥æ¬¡æ•¸ï¼ˆå‡åºï¼‰
      * **æ¬¡è¦æ’åº**ï¼šé•·æœŸçµ±è¨ˆè©²ç­åˆ¥æ¬¡æ•¸ï¼ˆå‡åºï¼‰
      * **ç¬¬ä¸‰ç´šæ’åº**ï¼šSeedéš¨æ©Ÿåˆ†æ´¾ï¼ˆç•¶å‰å…©ç´šç›¸åŒæ™‚ï¼‰
   - é¸æ“‡æ’åºå¾Œçš„ç¬¬ä¸€å€‹å€™é¸äºº
   - æ›´æ–°çµ±è¨ˆè³‡æ–™
3. æ‰¹æ¬¡å¯«å›çµæœ

**å€™é¸äººç¯©é¸é‚è¼¯**:
```javascript
function getCandidates(shift, date, employees) {
  // é¦–å…ˆæª¢æŸ¥æ˜¯å¦ç‚ºæ’é™¤æ—¥æœŸ
  if (shouldExcludeFromScheduling(date)) {
    const holidayInfo = isHoliday(date);
    console.log(`è·³éæ’ç­: ${date.toISOString().split('T')[0]} - ${holidayInfo.name}`);
    return []; // å‡æ—¥ä¸æ’ç­ï¼Œè¿”å›ç©ºé™£åˆ—
  }
  
  return employees.filter(emp => {
    // åŸºæœ¬æ¢ä»¶
    const hasRole = emp.roles[shift] === true;
    const isActive = emp.isActive === true;
    const notOnLeave = !isOnLeave(emp, date);
    const notScheduled = !isAlreadyScheduled(emp, date);
    
    // å€‹äººé™åˆ¶æª¢æŸ¥
    const withinDailyLimit = emp.constraints.dailyMax >= 1;
    const withinWeeklyLimit = getWeeklyShiftCount(emp, date) < emp.constraints.maxWeeklyShifts;
    const availableOnDay = emp.constraints.availableDays.includes(date.getDay() || 7);
    const notUnavailableDate = !emp.constraints.unavailableDates.includes(
      date.toISOString().split('T')[0]
    );
    const respectsInterval = checkMinInterval(emp, shift, date);
    const respectsConsecutive = checkMaxConsecutive(emp, date);
    
    return hasRole && isActive && notOnLeave && notScheduled && 
           withinDailyLimit && withinWeeklyLimit && availableOnDay && 
           notUnavailableDate && respectsInterval && respectsConsecutive;
  });
}

// ç·Šæ€¥æ’ç­è¦†è“‹åŠŸèƒ½
function getCandidatesWithEmergencyOverride(shift, date, employees, isEmergency = false) {
  // å¦‚æœæ˜¯ç·Šæ€¥æƒ…æ³ä¸”å…è¨±è¦†è“‹
  if (isEmergency && canOverrideHoliday(date, "emergency")) {
    console.log(`ç·Šæ€¥æ’ç­è¦†è“‹: ${date.toISOString().split('T')[0]}`);
    // è·³éå‡æ—¥æª¢æŸ¥ï¼Œç›´æ¥é€²è¡Œå“¡å·¥ç¯©é¸
    return employees.filter(emp => {
      const hasRole = emp.roles[shift] === true;
      const isActive = emp.isActive === true;
      const notOnLeave = !isOnLeave(emp, date);
      const notScheduled = !isAlreadyScheduled(emp, date);
      
      return hasRole && isActive && notOnLeave && notScheduled;
    });
  }
  
  // ä¸€èˆ¬æƒ…æ³ä½¿ç”¨æ¨™æº–ç¯©é¸
  return getCandidates(shift, date, employees);
}
```

**ç°¡åŒ–å¾Œçš„å¹³è¡¡æ©Ÿåˆ¶**:
- ç§»é™¤ç•¶æ¬¡æ’ç­çµ±è¨ˆï¼Œå°ˆæ³¨æ–¼é•·æœŸå¹³è¡¡
- ç§»é™¤å†·å»æœŸé™åˆ¶ï¼Œè®“æ¼”ç®—æ³•æ›´éˆæ´»
- ä¿æŒæ¯æ—¥ç­æ¬¡ä¸Šé™ï¼ˆé¿å…åŒä¸€å¤©å¤šå€‹ç­æ¬¡ï¼‰

**å„ªåŒ–çš„å¹³è¡¡ç­–ç•¥**:
```javascript
candidates.sort((a, b) => {
    // ä¸»è¦æ’åºï¼šç•¶æ¬¡æ’ç­è©²ç­åˆ¥æ¬¡æ•¸
    const aCurrent = currentStats[a.id][shift] || 0;
    const bCurrent = currentStats[b.id][shift] || 0;
    if (aCurrent !== bCurrent) {
        return aCurrent - bCurrent;
    }
    
    // æ¬¡è¦æ’åºï¼šé•·æœŸçµ±è¨ˆè©²ç­åˆ¥æ¬¡æ•¸
    const aHistorical = historicalStats[a.id][shift] || 0;
    const bHistorical = historicalStats[b.id][shift] || 0;
    if (aHistorical !== bHistorical) {
        return aHistorical - bHistorical;
    }
    
    // ç¬¬ä¸‰ç´šæ’åºï¼šSeedéš¨æ©Ÿåˆ†æ´¾
    const seed = generateSeed(targetDate, shift);
    return simpleHash(`${a.id}-${seed}`) - simpleHash(`${b.id}-${seed}`);
});

function generateSeed(targetDate, shift) {
    const dateStr = targetDate.toISOString().split('T')[0];
    return simpleHash(`${dateStr}-${shift}`);
}
```

**æŠ€è¡“è¦æ ¼**:
- Cloud Function: `generateSmartSchedule`
- é…ç½®ç®¡ç†: `settings/scheduleConfig`
- çµ±è¨ˆè³‡æ–™: `employees/{id}/stats`

**é æœŸæ•ˆæœ**:
- **é•·æœŸå¹³è¡¡**ï¼šé•·æœŸçµ±è¨ˆå„ç­åˆ¥å…§éƒ¨å·®ç•° â‰¤ 3
- **å…¬å¹³åˆ†é…**ï¼šæ–°å“¡å·¥å„ªå…ˆï¼Œé‡è² æ“”å“¡å·¥å¾—åˆ°ä¼‘æ¯
- **å¯é‡ç¾æ€§**ï¼šç›¸åŒæ¢ä»¶ä¸‹çµæœä¸€è‡´
- **ç°¡åŒ–ç¶­è­·**ï¼šç§»é™¤è¤‡é›œçš„çŸ­æœŸçµ±è¨ˆå’Œå†·å»æœŸé‚è¼¯

**çµ±è¨ˆè³‡æ–™çµæ§‹**:
```javascript
// ç•¶æ¬¡æ’ç­çµ±è¨ˆ (è¨˜æ†¶é«”ä¸­è¨ˆç®—)
{
    employeeId: {
        morning: 0,
        noon: 0,
        afternoon: 0,
        phone: 0
    }
}

// é•·æœŸçµ±è¨ˆï¼ˆå¾ Firestore è®€å–ï¼‰
{
    employeeId: "string",
    historicalStats: {
        morning: 0,
        noon: 0,
        afternoon: 0,
        phone: 0,
        lastUpdated: Timestamp
    }
}
```

##### 2.2 å‡æ—¥æ’ç­ç®¡ç†
**åŠŸèƒ½æè¿°**: ä¾‹å‡æ—¥èˆ‡åœ‹å®šå‡æ—¥çš„æ’ç­æ§åˆ¶

**éœ€æ±‚è©³è¿°**:
- ä¾‹å‡æ—¥æ’ç­æ’é™¤ï¼ˆé€±å…­ã€é€±æ—¥ï¼‰
- åœ‹å®šå‡æ—¥æ’ç­æ’é™¤ï¼ˆå¯é¸æ“‡æ€§è¨­å®šï¼‰
- å‡æ—¥æ—¥æœŸè­˜åˆ¥èˆ‡æª¢æ¸¬
- å‡æ—¥æ’ç­çµ±è¨ˆ
- ç·Šæ€¥æ’ç­è¦†è“‹æ©Ÿåˆ¶

**æŠ€è¡“è¦æ ¼**:
```javascript
// æ•´åˆçš„å‡æ—¥æª¢æ¸¬å‡½æ•¸
function isHoliday(date) {
    const dayOfWeek = date.getDay();
    const dateStr = date.toISOString().split('T')[0];
    
    // æª¢æŸ¥ä¾‹å‡æ—¥
    if (dayOfWeek === 0 || dayOfWeek === 6) {
        return { 
            isHoliday: true, 
            type: "weekend", 
            name: dayOfWeek === 0 ? "é€±æ—¥" : "é€±å…­" 
        };
    }
    
    // æª¢æŸ¥åœ‹å®šå‡æ—¥
    const holiday = getHoliday(dateStr);
    if (holiday) {
        return { 
            isHoliday: true, 
            type: "national", 
            name: holiday.name,
            excludeFromScheduling: holiday.excludeFromScheduling
        };
    }
    
    return { isHoliday: false };
}

// æª¢æŸ¥æ˜¯å¦æ‡‰æ’é™¤æ’ç­
function shouldExcludeFromScheduling(date) {
    const holidayInfo = isHoliday(date);
    
    if (!holidayInfo.isHoliday) {
        return false;
    }
    
    const settings = getHolidaySettings();
    
    // ä¾‹å‡æ—¥æª¢æŸ¥
    if (holidayInfo.type === "weekend") {
        const dayOfWeek = date.getDay();
        return (dayOfWeek === 0 && settings.weekendExclude.sunday) ||
               (dayOfWeek === 6 && settings.weekendExclude.saturday);
    }
    
    // åœ‹å®šå‡æ—¥æª¢æŸ¥
    if (holidayInfo.type === "national") {
        return holidayInfo.excludeFromScheduling;
    }
    
    return false;
}

// å‡æ—¥çµ±è¨ˆ
function getHolidayStats(startDate, endDate) {
    const stats = {
        totalDays: 0,
        weekends: 0,
        nationalHolidays: 0,
        excludedDays: 0,
        workingDays: 0
    };
    
    const current = new Date(startDate);
    while (current <= endDate) {
        stats.totalDays++;
        
        const holidayInfo = isHoliday(current);
        if (holidayInfo.isHoliday) {
            if (holidayInfo.type === "weekend") {
                stats.weekends++;
            } else if (holidayInfo.type === "national") {
                stats.nationalHolidays++;
            }
            
            if (shouldExcludeFromScheduling(current)) {
                stats.excludedDays++;
            }
        } else {
            stats.workingDays++;
        }
        
        current.setDate(current.getDate() + 1);
    }
    
    return stats;
}
```

##### 2.3 ç­åˆ¥å¹³è¡¡ç›£æ§
**åŠŸèƒ½æè¿°**: ç›£æ§å’Œé¡¯ç¤ºå„ç­åˆ¥çš„å¹³è¡¡ç‹€æ…‹

**éœ€æ±‚è©³è¿°**:
- ç­åˆ¥å¹³è¡¡åº¦è¨ˆç®—
- å¹³è¡¡ç‹€æ…‹å¯è¦–åŒ–
- ä¸å¹³è¡¡è­¦å‘Šæç¤º
- å¹³è¡¡å»ºè­°ç”Ÿæˆ

**æŠ€è¡“è¦æ ¼**:
```javascript
function checkShiftBalance(employeeStatsMap, shift) {
    const stats = Array.from(employeeStatsMap.entries())
        .map(([employeeId, statsData]) => ({ 
            id: employeeId, 
            name: statsData.name || employeeId, 
            historicalCount: statsData.historicalStats[shift] || 0
        }))
        .sort((a, b) => a.historicalCount - b.historicalCount);
    
    return {
        minHistoricalCount: stats[0].historicalCount,
        maxHistoricalCount: stats[stats.length - 1].historicalCount,
        historicalVariance: stats[stats.length - 1].historicalCount - stats[0].historicalCount,
        recommendations: stats.filter(s => s.historicalCount === stats[0].historicalCount)
    };
}
```

##### 2.4 æ¼”ç®—æ³•ç©©å®šæ€§å„ªåŒ–
**åŠŸèƒ½æè¿°**: ç¢ºä¿æ’ç­æ¼”ç®—æ³•çš„ç©©å®šæ€§å’Œå¯é æ€§

**éœ€æ±‚è©³è¿°**:
- éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
- æ¼”ç®—æ³•è¶…æ™‚ä¿è­·
- è³‡æ–™å®Œæ•´æ€§æª¢æŸ¥
- å›æ»¾æ©Ÿåˆ¶

**æŠ€è¡“è¦æ ¼**:
- è¶…æ™‚è¨­å®š: 30 ç§’
- éŒ¯èª¤é‡è©¦æ©Ÿåˆ¶
- è³‡æ–™é©—è­‰
- ç•°å¸¸è™•ç†

##### 2.5 å“¡å·¥é…ç½®ç®¡ç†
**åŠŸèƒ½æè¿°**: å¯èª¿æ•´çš„å“¡å·¥å€‹äººæ’ç­åƒæ•¸

**éœ€æ±‚è©³è¿°**:
- å“¡å·¥å€‹äººé™åˆ¶è¨­å®šï¼ˆæ¯æ—¥ä¸Šé™ã€æ¯é€±ä¸Šé™ã€é–“éš”å¤©æ•¸ï¼‰
- å“¡å·¥å¯ç”¨æ™‚é–“è¨­å®šï¼ˆæ˜ŸæœŸå¹¾ã€ç‰¹å®šæ—¥æœŸï¼‰
- å“¡å·¥å€‹äººé™åˆ¶è¨­å®š
- é…ç½®é©—è­‰èˆ‡è¡çªæª¢æ¸¬
- æ‰¹é‡è¨­å®šå·¥å…·
- å³æ™‚ç”Ÿæ•ˆ

**æŠ€è¡“è¦æ ¼**:
```javascript
// ç³»çµ±ç´šåˆ¥çš„åŸºæœ¬é…ç½®ï¼ˆå›ºå®šï¼‰
{
  // å“¡å·¥é™åˆ¶
  dailyMax: 1,           // æ¯å€‹å“¡å·¥æ¯å¤©æœ€å¤š1å€‹ç­æ¬¡
  
  // ç­åˆ¥åŸºæœ¬è¨­å®š
  shifts: {
    noon: { required: true },      // å¿…é ˆæ’ç­
    phone: { required: true },     // å¿…é ˆæ’ç­
    morning: { required: false },  // å¯é¸æ’ç­
    afternoon: { required: false } // å¯é¸æ’ç­
  }
}

// å“¡å·¥å€‹äººé…ç½®ï¼ˆå¯èª¿æ•´ï¼‰
{
  employeeId: "string",
  constraints: {
    dailyMax: 1,                    // å€‹äººæ¯æ—¥ç­æ¬¡ä¸Šé™ï¼ˆå›ºå®šç‚º1ï¼‰
    maxWeeklyShifts: 5,            // æ¯é€±æœ€å¤§ç­æ¬¡æ•¸
    minInterval: 1,                // æœ€å°é–“éš”å¤©æ•¸
    availableDays: [1,2,3,4,5],   // å¯æ’ç­çš„æ˜ŸæœŸå¹¾
    unavailableDates: [],          // ä¸å¯æ’ç­çš„ç‰¹å®šæ—¥æœŸ
    maxConsecutiveDays: 3          // æœ€å¤§é€£çºŒæ’ç­å¤©æ•¸
  },
  // å€‹äººåå¥½è¨­å®šå·²ç§»é™¤ï¼Œå°ˆæ³¨æ–¼å®¢è§€çš„æ’ç­é™åˆ¶
}
```

**é…ç½®é©—è­‰æ©Ÿåˆ¶**:
```javascript
// é…ç½®é©—è­‰è¦å‰‡
const EMPLOYEE_CONFIG_VALIDATION = {
  maxWeeklyShifts: { min: 1, max: 7 },
  minInterval: { min: 0, max: 7 },
  maxConsecutiveDays: { min: 1, max: 7 },
  availableDays: { minLength: 1, maxLength: 7 },
  priority: { min: -1, max: 1 }
};

// è¡çªæª¢æ¸¬
function validateEmployeeConfig(employee) {
  const errors = [];
  
  // å€‹äººåå¥½è¨­å®šå·²ç§»é™¤ï¼Œç„¡éœ€æª¢æŸ¥åå¥½è¡çª
  
  // æª¢æŸ¥æ¯é€±ä¸Šé™èˆ‡å¯ç”¨å¤©æ•¸
  if (employee.constraints.maxWeeklyShifts > employee.constraints.availableDays.length) {
    errors.push('æ¯é€±æœ€å¤§ç­æ¬¡æ•¸ä¸èƒ½è¶…éå¯ç”¨å¤©æ•¸');
  }
  
  return errors;
}
```

**ç®¡ç†è€…é…ç½®ä»‹é¢**:
- å“¡å·¥å€‹äººè¨­å®šé é¢
- æ‰¹é‡è¨­å®šå·¥å…·
- é…ç½®æ¨¡æ¿åŠŸèƒ½
- è¡çªæª¢æ¸¬ç³»çµ±
- è¨­å®šé è¦½èˆ‡é©—è­‰

### 2.2.3 Phase 3: Material Design UI/UX å¯¦ç¾ (Sprint 5-6)

#### 3.1 Material Design è¨­è¨ˆç³»çµ±æ•´åˆ
**åŠŸèƒ½æè¿°**: å®Œæ•´å¯¦ç¾ Material Design 3 è¨­è¨ˆè¦ç¯„

**è¨­è¨ˆåŸå‰‡** (åƒè€ƒ [Material Design 3](https://m3.material.io)):
- **å€‹äººåŒ– (Personalization)**: Dynamic Color å‹•æ…‹è‰²å½©ç³»çµ±
- **é©æ‡‰æ€§ (Adaptive)**: éŸ¿æ‡‰å¼è¨­è¨ˆï¼Œæ”¯æ´å¤šè£ç½®
- **è¡¨é”æ€§ (Expressive)**: è±å¯Œçš„å‹•ç•«å’Œäº’å‹•æ•ˆæœ

**æ ¸å¿ƒçµ„ä»¶å¯¦ç¾**:
```typescript
// Material Design 3 ä¸»è¦çµ„ä»¶
- App Bars (Top/Bottom/Navigation)
- Cards (æ’ç­å¡ç‰‡ã€å“¡å·¥å¡ç‰‡)
- Buttons (FABã€Textã€Outlinedã€Filled)
- Navigation (Navigation Drawerã€Bottom Navigation)
- Data Display (Tablesã€Listsã€Chips)
- Feedback (Snackbarsã€Dialogsã€Progress)
- Inputs (Text Fieldsã€Selectã€Date Pickers)
- Layout (Containerã€Gridã€Divider)
```

**è¨­è¨ˆä»¤ç‰Œç³»çµ±**:
```typescript
// Material Design Tokens
const theme = {
  palette: {
    primary: { main: '#6750A4' },    // Brand color
    secondary: { main: '#625B71' },  // Supporting color
    tertiary: { main: '#7D5260' },   // Accent color
    surface: { main: '#FFFBFE' },    // Background surfaces
    error: { main: '#BA1A1A' },      // Error states
  },
  typography: {
    // Material Design 3 Type Scale
    displayLarge: { fontSize: '3.5rem', lineHeight: '4rem' },
    headlineLarge: { fontSize: '2rem', lineHeight: '2.5rem' },
    bodyLarge: { fontSize: '1rem', lineHeight: '1.5rem' },
  },
  elevation: {
    // Material Design 3 Elevation Tokens
    level0: '0px',
    level1: '0px 1px 2px 0px rgba(0, 0, 0, 0.3)',
    level2: '0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 2px 6px 2px rgba(0, 0, 0, 0.15)',
  }
}
```

#### 3.2 æ ¸å¿ƒä»‹é¢è¨­è¨ˆ

**ç®¡ç†è€…ä»‹é¢æ¶æ§‹**:
1. **Navigation Rail** (æ¡Œé¢ç‰ˆ) / **Bottom Navigation** (è¡Œå‹•ç‰ˆ)
   - å“¡å·¥ç®¡ç† (People icon)
   - è«‹å‡ç®¡ç† (Event_busy icon)
   - æ’ç­ç®¡ç† (Calendar_month icon)
   - æ›ç­ä»£ç­ (Swap_horiz icon)
   - å‡æ—¥ç®¡ç† (Event_available icon)
   - çµ±è¨ˆå ±è¡¨ (Analytics icon)
   - ç³»çµ±è¨­å®š (Settings icon)

2. **æ’ç­æ—¥æ›†ä»‹é¢**:
   - **Material Calendar Component** æ•´åˆ
   - **Floating Action Button** ç”¨æ–¼å¿«é€Ÿæ’ç­
   - **Cards** é¡¯ç¤ºæ¯æ—¥ç­æ¬¡è³‡è¨Š
   - **Chips** æ¨™ç¤ºç­æ¬¡ç‹€æ…‹ (å·²æ’ç­/ç©ºç¼º/è¡çª)
   - **Bottom Sheet** ç”¨æ–¼ç­æ¬¡è©³ç´°è³‡è¨Š
   - **Save/Publish Button** ç”¨æ–¼å°‡é è¦½çš„ç­è¡¨å„²å­˜è‡³ç³»çµ±

3. **å“¡å·¥ç®¡ç†ä»‹é¢**:
   - **Data Table** é¡¯ç¤ºå“¡å·¥åˆ—è¡¨
   - **Search Bar** æœå°‹åŠŸèƒ½
   - **Filter Chips** ç¯©é¸æ¢ä»¶
   - **Dialogs** æ–°å¢/ç·¨è¼¯å“¡å·¥

4. **å“¡å·¥ç‰¹æ®Šè¦å‰‡ç®¡ç†ä»‹é¢**:
   - **Employee Rules Table** å“¡å·¥è¦å‰‡åˆ—è¡¨
   - **Rule Configuration Dialog** è¦å‰‡è¨­å®šå°è©±æ¡†
   - **Batch Configuration Tool** æ‰¹é‡è¨­å®šå·¥å…·
   - **Template Selector** è¦å‰‡æ¨¡æ¿é¸æ“‡å™¨
   - **Conflict Detection Panel** è¡çªæª¢æ¸¬é¢æ¿
   - **Validation Feedback** é©—è­‰å›é¥‹èˆ‡è­¦å‘Š

5. **å‡æ—¥ç®¡ç†ä»‹é¢**:
   - **Holiday Calendar** å‡æ—¥è¡Œäº‹æ›†æª¢è¦–ï¼ˆé¡¯ç¤ºæ‰€æœ‰å‡æ—¥å’Œæ’ç­ç‹€æ…‹ï¼‰
   - **Holiday List** åœ‹å®šå‡æ—¥æ¸…å–®ç®¡ç†
   - **Exclusion Settings Panel** æ’ç­æ’é™¤è¨­å®šé¢æ¿
   - **Weekend Configuration** ä¾‹å‡æ—¥è¨­å®šï¼ˆé€±å…­ã€é€±æ—¥ï¼‰
   - **Emergency Override Controls** ç·Šæ€¥æ’ç­è¦†è“‹æ§åˆ¶
   - **Holiday Templates** å‡æ—¥æ¨¡æ¿é¸æ“‡å™¨
   - **Bulk Holiday Management** æ‰¹é‡å‡æ—¥è¨­å®šå·¥å…·

6. **æ›ç­ä»£ç­ç®¡ç†ä»‹é¢**:
   - **Shift Change Dashboard** æ›ç­ä»£ç­ç”³è«‹ç¸½è¦½
   - **Pending Approvals List** å¾…å¯©æ ¸ç”³è«‹åˆ—è¡¨
   - **Approval Actions Panel** å¯©æ ¸æ“ä½œé¢æ¿
   - **Change History** æ›ç­ä»£ç­æ­·å²è¨˜éŒ„
   - **Conflict Detection** è¡çªæª¢æ¸¬èˆ‡è­¦å‘Š
   - **Bulk Approval Tool** æ‰¹é‡å¯©æ ¸å·¥å…·
   - **Statistics Dashboard** æ›ç­ä»£ç­çµ±è¨ˆå ±è¡¨

**å“¡å·¥ä»‹é¢æ¶æ§‹**:
1. **Bottom Navigation** (ä¸»è¦å°èˆª)
   - æˆ‘çš„ç­è¡¨ (Calendar_today icon)
   - è«‹å‡ç”³è«‹ (Time_off icon)
   - æ›ç­ä»£ç­ (Swap_horiz icon)
   - å€‹äººè³‡æ–™ (Person icon)

2. **æˆ‘çš„ç­è¡¨ä»‹é¢**:
   - **Personal Calendar** å€‹äººè¡Œäº‹æ›†æª¢è¦–
   - **Upcoming Shifts Card** å³å°‡åˆ°ä¾†çš„ç­æ¬¡
   - **Monthly Summary** æœ¬æœˆç­æ¬¡çµ±è¨ˆ
   - **Export Button** å€‹äººç­è¡¨åŒ¯å‡º
   - **Quick Swap/Cover Buttons** å¿«é€Ÿæ›ç­/ä»£ç­æŒ‰éˆ•

3. **è«‹å‡ç”³è«‹ä»‹é¢**:
   - **Leave Request Form** è«‹å‡ç”³è«‹è¡¨å–®
   - **Leave History List** è«‹å‡è¨˜éŒ„åˆ—è¡¨
   - **Status Chips** ç”³è«‹ç‹€æ…‹æ¨™ç¤º
   - **Calendar Integration** è¡Œäº‹æ›†æ•´åˆ

4. **æ›ç­ä»£ç­ä»‹é¢**:
   - **Swap Request Form** æ›ç­ç”³è«‹è¡¨å–®
   - **Cover Request Form** ä»£ç­è«‹æ±‚è¡¨å–®
   - **Available Shifts List** å¯æ›ç­æ¬¡åˆ—è¡¨
   - **Pending Requests** å¾…è™•ç†ç”³è«‹åˆ—è¡¨
   - **Request History** ç”³è«‹æ­·å²è¨˜éŒ„
   - **Quick Actions** å¿«é€Ÿæ“ä½œæŒ‰éˆ•

**æŠ€è¡“å¯¦ç¾**:
```typescript
// MUI v5 + Material Design 3
import { 
  ThemeProvider, 
  CssBaseline,
  Container,
  AppBar,
  Drawer,
  Card,
  Fab,
  Chip,
  Dialog
} from '@mui/material';
```

#### 3.3 äº’å‹•è¨­è¨ˆèˆ‡å‹•ç•«

**Material Motion å‹•ç•«ç³»çµ±**:
- **Container Transform**: é é¢åˆ‡æ›å‹•ç•«
- **Shared Axis**: å°èˆªå‹•ç•«
- **Fade Through**: å…§å®¹åˆ‡æ›
- **Elevation**: å…ƒç´ ç‹€æ…‹è®ŠåŒ–

**äº’å‹•è¨­è¨ˆ**:
- **Drag & Drop**: æ‹–æ‹‰èª¿æ•´æ’ç­
- **Swipe Gestures**: è¡Œå‹•è£ç½®æ‰‹å‹¢æ“ä½œ
- **Touch Ripple**: é»æ“Šå›é¥‹æ•ˆæœ
- **Loading States**: è¼‰å…¥ç‹€æ…‹æŒ‡ç¤ºå™¨

#### 3.4 é€²éšç­è¡¨ç®¡ç† (Material Design)
**åŠŸèƒ½æè¿°**: æ¡ç”¨ Material Design çš„ç­è¡¨ç®¡ç†åŠŸèƒ½

**UI çµ„ä»¶**:
- **Export Menu**: Menu çµ„ä»¶æä¾›åŒ¯å‡ºé¸é …
- **Comparison View**: Split Layout ä¸¦æ’æ¯”è¼ƒ
- **History Timeline**: Timeline çµ„ä»¶é¡¯ç¤ºæ­·å²
- **Version Control**: Stepper çµ„ä»¶ç‰ˆæœ¬è¿½è¹¤

#### 3.5 å–®ç­åˆ¥è£œæ’ (Material Design)
**åŠŸèƒ½æè¿°**: Material Design é¢¨æ ¼çš„å–®ç­åˆ¥æ“ä½œ

**UI è¨­è¨ˆ**:
- **Quick Actions**: Speed Dial FAB å¿«é€Ÿæ“ä½œ
- **Confirmation Dialog**: æ“ä½œç¢ºèªå°è©±æ¡†
- **Progress Indicator**: Linear/Circular Progress
- **Success Feedback**: Snackbar æˆåŠŸæç¤º

#### 3.6 éŸ¿æ‡‰å¼è¨­è¨ˆ (Material Design Adaptive)
**åŠŸèƒ½æè¿°**: å®Œå…¨éµå¾ª Material Design éŸ¿æ‡‰å¼è¦ç¯„

**æ–·é»ç³»çµ±**:
```typescript
// Material Design 3 Breakpoints
const breakpoints = {
  compact: '0px-599px',     // æ‰‹æ©Ÿç›´å‘
  medium: '600px-839px',    // æ‰‹æ©Ÿæ©«å‘/å°å¹³æ¿
  expanded: '840px+',       // å¹³æ¿/æ¡Œé¢
}
```

**é©æ‡‰æ€§ä½ˆå±€**:
- **Compact**: Bottom Navigation + Single Column
- **Medium**: Navigation Rail + Two Column
- **Expanded**: Navigation Drawer + Multi Column

**è§¸æ§å„ªåŒ–**:
- **Touch Target**: æœ€å° 48dp é»æ“Šå€åŸŸ
- **Gesture Navigation**: æ”¯æ´æ‰‹å‹¢å°èˆª
- **Accessibility**: ç¬¦åˆ WCAG 2.1 AA æ¨™æº–

### 2.2.4 Phase 4: æ¸¬è©¦èˆ‡éƒ¨ç½² (Sprint 7)

#### 4.1 æ¸¬è©¦ç­–ç•¥
**å–®å…ƒæ¸¬è©¦**:
- Cloud Functions é‚è¼¯æ¸¬è©¦
- æ¼”ç®—æ³•æ­£ç¢ºæ€§é©—è­‰
- é‚Šç•Œæ¢ä»¶æ¸¬è©¦

**æ•´åˆæ¸¬è©¦**:
- ç«¯åˆ°ç«¯æµç¨‹æ¸¬è©¦
- è³‡æ–™ä¸€è‡´æ€§æ¸¬è©¦
- æ•ˆèƒ½æ¸¬è©¦

#### 4.2 ç’°å¢ƒç®¡ç†
**é–‹ç™¼ç’°å¢ƒ**:
- Firebase Project: `auto-scheduler-dev`
- æ¸¬è©¦è³‡æ–™é›†
- é–‹ç™¼è€…æ¬Šé™ç®¡ç†

**æ­£å¼ç’°å¢ƒ**:
- Firebase Project: `auto-scheduler-prod`
- ç”Ÿç”¢è³‡æ–™å‚™ä»½
- ç›£æ§èˆ‡è­¦å ±

---

## éåŠŸèƒ½éœ€æ±‚

### æ•ˆèƒ½éœ€æ±‚
- æ’ç­æ¼”ç®—æ³•åŸ·è¡Œæ™‚é–“ < 30 ç§’ï¼ˆ50 å“¡å·¥ï¼Œ30 å¤©ï¼‰
- é é¢è¼‰å…¥æ™‚é–“ < 3 ç§’
- æ”¯æ´åŒæ™‚ 10 å€‹ç”¨æˆ¶æ“ä½œ

### å®‰å…¨éœ€æ±‚
- Firebase Authentication èº«ä»½é©—è­‰
- Firestore å®‰å…¨è¦å‰‡è¨­å®š
- è³‡æ–™åŠ å¯†å‚³è¼¸

### å¯ç”¨æ€§éœ€æ±‚
- ç³»çµ±å¯ç”¨æ€§ > 99%
- è³‡æ–™å‚™ä»½æ¯æ—¥åŸ·è¡Œ
- éŒ¯èª¤ç›£æ§èˆ‡è­¦å ±

### å¯ç¶­è­·æ€§éœ€æ±‚
- æ¨¡çµ„åŒ–ç¨‹å¼æ¶æ§‹
- å®Œæ•´çš„ API æ–‡ä»¶
- ç‰ˆæœ¬æ§åˆ¶ç®¡ç†

---

## æŠ€è¡“æ¶æ§‹

### å‰ç«¯æŠ€è¡“æ£§
- **React 18 + TypeScript** (ç¾ä»£åŒ–å‰ç«¯æ¡†æ¶)
- **Material-UI (MUI) v5** (Material Design 3 å¯¦ç¾)
- **Firebase SDK v9+** (æ¨¡çµ„åŒ–æ¶æ§‹)
- **React Query/TanStack Query** (è³‡æ–™ç‹€æ…‹ç®¡ç†)
- **React Hook Form** (è¡¨å–®è™•ç†)
- **Material Design Icons** (åœ–ç¤ºç³»çµ±)
- **Framer Motion** (å‹•ç•«æ•ˆæœ)
- **Vite** (å¿«é€Ÿå»ºç½®å·¥å…·)

### å¾Œç«¯æŠ€è¡“æ£§
- Firebase Cloud Functions (Node.js) - è¨ˆåŠƒä¸­
- Firestore Database
- Firebase Authentication
- Firebase Hosting

**æ³¨æ„**: ç›®å‰ä½¿ç”¨å‰ç«¯ JavaScript å¯¦ç¾æ’ç­é‚è¼¯ï¼Œè¨ˆåŠƒå¾ŒçºŒé·ç§»è‡³ Cloud Functions

### é–‹ç™¼å·¥å…·
- **Vite** (å¿«é€Ÿå»ºç½®å·¥å…·)
- **TypeScript** (å‹åˆ¥å®‰å…¨)
- **ESLint + Prettier** (ç¨‹å¼ç¢¼å“è³ª)
- **Material-UI DevTools** (è¨­è¨ˆç³»çµ±åµéŒ¯)
- **Storybook** (çµ„ä»¶é–‹ç™¼èˆ‡æ–‡ä»¶)
- **Firebase CLI** (å¾Œç«¯æœå‹™)
- **VS Code** + Material Design æ“´å……å¥—ä»¶
- **Git** ç‰ˆæœ¬æ§åˆ¶
- **Vitest** (æ¸¬è©¦æ¡†æ¶ï¼Œèˆ‡ Vite æ•´åˆ)
- **Playwright** (E2E æ¸¬è©¦)

---

## é–‹ç™¼æ™‚ç¨‹

### Sprint 1 (2é€±): åŸºç¤æ¶æ§‹
- Firebase å°ˆæ¡ˆè¨­å®š
- èº«ä»½é©—è­‰ç³»çµ±
- åŸºç¤ UI æ¡†æ¶
- å“¡å·¥ç®¡ç†åŠŸèƒ½

### Sprint 2 (2é€±): æ ¸å¿ƒåŠŸèƒ½
- è«‹å‡ç®¡ç†
- ç°¡åŒ–ç‰ˆæ’ç­
- ç­è¡¨æª¢è¦–
- æ‰‹å‹•èª¿æ•´

### Sprint 3 (3é€±): æ™ºæ…§æ¼”ç®—æ³•
- å®Œæ•´æ’ç­é‚è¼¯
- å¹³è¡¡æ©Ÿåˆ¶
- é…ç½®ç®¡ç†
- æ±ºç­–æ—¥èªŒ

### Sprint 4 (3é€±): é€²éšåŠŸèƒ½
- æ—¥æœŸç¯„åœæ’ç­
- ç­æ¬¡å„ªå…ˆç´šç®¡ç†
- å‡æ—¥æ’ç­ç®¡ç†ï¼ˆä¾‹å‡æ—¥ + åœ‹å®šå‡æ—¥ï¼‰
- ç­è¡¨ç®¡ç†åŠŸèƒ½
- å“¡å·¥ç‰¹æ®Šè¦å‰‡ç®¡ç†
- æ›ç­èˆ‡ä»£ç­ç³»çµ±

### Sprint 5 (3é€±): Material Design UI/UX å¯¦ç¾
- Material Design 3 è¨­è¨ˆç³»çµ±æ•´åˆ
- æ ¸å¿ƒä»‹é¢é‡æ§‹ (Navigationã€Cardsã€Tables)
- Material Motion å‹•ç•«ç³»çµ±
- éŸ¿æ‡‰å¼è¨­è¨ˆ (Adaptive Layout)
- ç„¡éšœç¤™åŠŸèƒ½å¯¦ç¾

### Sprint 6 (2é€±): æ¸¬è©¦éƒ¨ç½²
- å–®å…ƒæ¸¬è©¦
- æ•´åˆæ¸¬è©¦
- ç’°å¢ƒéƒ¨ç½²
- ç›£æ§è¨­å®š

**ç¸½é–‹ç™¼æ™‚ç¨‹**: 15 é€± (æ–°å¢æ›ç­ä»£ç­åŠŸèƒ½éœ€é¡å¤–æ™‚é–“)

---

## é¢¨éšªè©•ä¼°

### æŠ€è¡“é¢¨éšª
- **é¢¨éšª**: Cloud Functions åŸ·è¡Œæ™‚é–“é™åˆ¶
- **ç·©è§£**: å„ªåŒ–æ¼”ç®—æ³•ï¼Œåˆ†æ‰¹è™•ç†

- **é¢¨éšª**: è¤‡é›œæ’ç­é‚è¼¯çš„æ¸¬è©¦è¦†è“‹
- **ç·©è§£**: å»ºç«‹å®Œæ•´çš„æ¸¬è©¦æ¡ˆä¾‹

### æ¥­å‹™é¢¨éšª
- **é¢¨éšª**: æ’ç­çµæœä¸ç¬¦åˆå¯¦éš›éœ€æ±‚
- **ç·©è§£**: æä¾›æ‰‹å‹•èª¿æ•´åŠŸèƒ½ï¼Œé€æ­¥å„ªåŒ–æ¼”ç®—æ³•

- **é¢¨éšª**: ç³»çµ±ç©©å®šæ€§å•é¡Œ
- **ç·©è§£**: å®Œå–„çš„éŒ¯èª¤è™•ç†èˆ‡ç›£æ§

---

## æˆåŠŸæŒ‡æ¨™

### åŠŸèƒ½æŒ‡æ¨™
- æ’ç­æˆåŠŸç‡ > 95%
- æ‰‹å‹•èª¿æ•´ç‡ < 10%
- ç³»çµ±éŸ¿æ‡‰æ™‚é–“ < 3 ç§’

### ä½¿ç”¨è€…æŒ‡æ¨™
- ç®¡ç†è€…æ“ä½œæ™‚é–“æ¸›å°‘ 50%
- æ’ç­éŒ¯èª¤ç‡é™ä½ 80%
- ä½¿ç”¨è€…æ»¿æ„åº¦ > 4.0/5.0

### æŠ€è¡“æŒ‡æ¨™
- ç³»çµ±å¯ç”¨æ€§ > 99%
- æ¸¬è©¦è¦†è“‹ç‡ > 80%
- ç¨‹å¼ç¢¼å“è³ªè©•åˆ† > A

---

## é™„éŒ„

### A. è³‡æ–™æ¨¡å‹å®Œæ•´è¦æ ¼
### B. API æ–‡ä»¶
### C. UI/UX è¨­è¨ˆç¨¿
### D. æ¸¬è©¦æ¡ˆä¾‹
### E. è¶…å‡ºåŸPRDçš„åŠŸèƒ½æ¸…å–®

#### E.1 å·²å¯¦ç¾çš„é¡å¤–åŠŸèƒ½

##### æ—¥æœŸç¯„åœæ’ç­åŠŸèƒ½
- **åŠŸèƒ½**: æ”¯æ´è‡ªå®šç¾©æ—¥æœŸç¯„åœçš„æ’ç­
- **å¯¦ç¾ç‹€æ…‹**: âœ… å·²å®Œæˆ
- **æŠ€è¡“ç´°ç¯€**: 
  - æ—¥æœŸè¼¸å…¥æ¬„ä½
  - å¿«é€Ÿé¸æ“‡æŒ‰éˆ•ï¼ˆä¸‹é€±ã€ä¸‹æœˆã€è‡ªå®šç¾©ï¼‰
  - é€±æœ«æ’é™¤é¸é …
  - é è¨­ç¯„åœè¨­å®š

##### ç­æ¬¡å„ªå…ˆç´šç®¡ç†
- **åŠŸèƒ½**: ç®¡ç†ä¸åŒç­æ¬¡çš„å„ªå…ˆç´šå’Œæ’ç­ç­–ç•¥
- **å¯¦ç¾ç‹€æ…‹**: âœ… å·²å®Œæˆ
- **æŠ€è¡“ç´°ç¯€**:
  - ä¸»è¦ç­æ¬¡å’Œæ¬¡è¦ç­æ¬¡åˆ†é¡
  - ç­æ¬¡å„ªå…ˆç´šæ’åº
  - æ’ç­ç­–ç•¥é¸æ“‡

##### é€±æœ«æ’ç­ç®¡ç†
- **åŠŸèƒ½**: é€±æœ«æ’ç­çš„éˆæ´»æ§åˆ¶
- **å¯¦ç¾ç‹€æ…‹**: âœ… å·²å®Œæˆ
- **æŠ€è¡“ç´°ç¯€**:
  - é€±æœ«æ—¥æœŸè­˜åˆ¥
  - é€±æœ«æ’é™¤é¸é …
  - é€±æœ«æ’ç­çµ±è¨ˆ

##### ç­è¡¨ç®¡ç†åŠŸèƒ½
- **åŠŸèƒ½**: ç­è¡¨çš„æ¸…é™¤å’Œç®¡ç†æ“ä½œ
- **å¯¦ç¾ç‹€æ…‹**: âœ… å·²å®Œæˆ
- **æŠ€è¡“ç´°ç¯€**:
  - æ¸…é™¤æ‰€æœ‰ç­è¡¨
  - æ¸…é™¤æŒ‡å®šæ—¥æœŸç¯„åœçš„ç­è¡¨
  - æ“ä½œç¢ºèªæ©Ÿåˆ¶

#### E.2 è¨ˆåŠƒä¸­çš„é¡å¤–åŠŸèƒ½

##### é€²éšç­è¡¨ç®¡ç†
- **åŠŸèƒ½**: æ›´éˆæ´»çš„ç­è¡¨ç®¡ç†åŠŸèƒ½
- **å¯¦ç¾ç‹€æ…‹**: ğŸ”„ è¨ˆåŠƒä¸­
- **è¨ˆåŠƒåŠŸèƒ½**:
  - ç­è¡¨åŒ¯å‡ºåŠŸèƒ½
  - ç­è¡¨æ¯”è¼ƒåŠŸèƒ½
  - ç­è¡¨æ­·å²è¨˜éŒ„
  - ç­è¡¨ç‰ˆæœ¬æ§åˆ¶

##### æ¼”ç®—æ³•ç©©å®šæ€§å„ªåŒ–
- **åŠŸèƒ½**: ç¢ºä¿æ’ç­æ¼”ç®—æ³•çš„ç©©å®šæ€§å’Œå¯é æ€§
- **å¯¦ç¾ç‹€æ…‹**: ğŸ”„ é€²è¡Œä¸­
- **è¨ˆåŠƒåŠŸèƒ½**:
  - éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
  - æ¼”ç®—æ³•è¶…æ™‚ä¿è­·
  - è³‡æ–™å®Œæ•´æ€§æª¢æŸ¥
  - å›æ»¾æ©Ÿåˆ¶

##### ä¸‰ç´šå¹³è¡¡æ¼”ç®—æ³•
- **åŠŸèƒ½**: å¯¦ç¾çŸ­æœŸå’Œé•·æœŸå¹³è¡¡çš„æ™ºèƒ½æ’ç­
- **å¯¦ç¾ç‹€æ…‹**: âœ… å·²å®Œæˆè¨­è¨ˆ
- **æ ¸å¿ƒåŠŸèƒ½**:
  - å€™é¸äººç¯©é¸ï¼ˆè§’è‰²ã€è«‹å‡ã€æ¯æ—¥ä¸Šé™ï¼‰
  - ä¸‰ç´šå¹³è¡¡æ’åºï¼ˆç•¶æ¬¡æ’ç­ã€é•·æœŸçµ±è¨ˆã€Seedéš¨æ©Ÿï¼‰
  - çµ±è¨ˆè³‡æ–™ç®¡ç†ï¼ˆç•¶æ¬¡æ’ç­ã€é•·æœŸçµ±è¨ˆï¼‰
  - å¯é‡ç¾çš„éš¨æ©Ÿé¸æ“‡

---

## 3. ä½¿ç”¨è€…ä»‹é¢èˆ‡é«”é©— (Material Design 3)

### 3.1 ä½ˆå±€èˆ‡å°èˆª (Adaptive Layout)
- **æ‰‹æ©Ÿ (Compact)**: ä½¿ç”¨ `Bottom Navigation Bar` é€²è¡Œä¸»è¦é é¢åˆ‡æ›ã€‚
- **å¹³æ¿èˆ‡æ¡Œé¢ (Expanded)**: ä½¿ç”¨ `Navigation Rail` æˆ– `Navigation Drawer`ï¼Œå……åˆ†åˆ©ç”¨å¤§è¢å¹•ç©ºé–“ã€‚

### 3.2 æ ¸å¿ƒä»‹é¢

#### ç®¡ç†è€…ä»‹é¢
- **æ’ç­æ—¥æ›† (Schedule Calendar)**
  - ä½¿ç”¨ `Material Calendar` è¦–åœ–ï¼Œæ¸…æ™°å‘ˆç¾æœˆ/é€±ç­è¡¨ã€‚
  - `Cards` ç”¨æ–¼é¡¯ç¤ºæ¯æ—¥ç­æ¬¡èˆ‡äººå“¡ã€‚
  - `Chips` æ¨™ç¤ºç­æ¬¡ç‹€æ…‹ï¼ˆå¦‚ï¼šç©ºç¼ºã€å¾…è£œï¼‰ã€‚
  - `Floating Action Button (FAB)` ç”¨æ–¼è§¸ç™¼ã€ŒåŸ·è¡Œæ’ç­ã€ã€‚
- **å“¡å·¥ç®¡ç† (Employee Management)**
  - ä½¿ç”¨ `Data Table` é¡¯ç¤ºå“¡å·¥åˆ—è¡¨ã€‚
  - é€é `Dialogs` é€²è¡Œæ–°å¢/ç·¨è¼¯å“¡å·¥èˆ‡å…¶å€‹äººåŒ–è¦å‰‡ã€‚
- **ç•°å‹•å¯©æ ¸ (Approval Dashboard)**
  - ä½¿ç”¨ `Lists` èˆ‡ `Badges` é¡¯ç¤ºå¾…å¯©æ ¸çš„è«‹å‡ã€æ›ç­ã€ä»£ç­ç”³è«‹ã€‚
  - åœ¨ `Dialog` æˆ– `Bottom Sheet` ä¸­é¡¯ç¤ºè©³æƒ…ä¸¦é€²è¡Œæ“ä½œã€‚
- **å‡æ—¥è¨­å®š (Holiday Settings)**
  - ä½¿ç”¨ `Date Pickers` è®“ç®¡ç†è€…èƒ½è¼•æ˜“åœ°é»é¸åœ‹å®šå‡æ—¥ã€‚
  - `Switches` ç”¨æ–¼é–‹é—œä¾‹å‡æ—¥æ’ç­ã€‚

#### å“¡å·¥ä»‹é¢
- **æˆ‘çš„ç­è¡¨ (My Schedule)**
  - ä»¥ `Material Calendar` æˆ– `Lists` æª¢è¦–å€‹äººç­è¡¨ã€‚
  - `Cards` æ¸…æ™°å‘ˆç¾å³å°‡åˆ°ä¾†çš„ç­æ¬¡è³‡è¨Šã€‚
- **ç™¼èµ·ç”³è«‹ (Request Flow)**
  - é€é `Bottom Sheet` æˆ–å…¨è¢å¹• `Dialogs` é€²è¡Œè«‹å‡ã€æ›ç­ã€ä»£ç­ç”³è«‹ã€‚
  - `Text Fields`, `Date Pickers`, `Menus` ç”¨æ–¼è¼¸å…¥ç”³è«‹è³‡è¨Šã€‚
  - `Snackbars` æä¾›æ“ä½œæˆåŠŸæˆ–å¤±æ•—çš„å³æ™‚å›é¥‹ã€‚

### 3.3 äº’å‹•èˆ‡å‹•æ•ˆ (Material Motion)
- **é é¢è½‰å ´**: ä½¿ç”¨ `Container Transform` å’Œ `Shared Axis` æä¾›æµæš¢çš„å°èˆªé«”é©—ã€‚
- **ç‹€æ…‹è®ŠåŒ–**: é€é `Elevation` çš„è®ŠåŒ–èˆ‡ `Ripples` å›é¥‹ï¼Œæä¾›æ¸…æ™°çš„äº’å‹•æ„ŸçŸ¥ã€‚
- **æç¤ºèˆ‡é€šçŸ¥**: ä½¿ç”¨ `Snackbars` å’Œ `Dialogs` èˆ‡ä½¿ç”¨è€…é€²è¡Œéé˜»æ–·å¼æˆ–é—œéµæ€§æºé€šã€‚

---

## 4. æŠ€è¡“èˆ‡æ™‚ç¨‹

### 4.1 æŠ€è¡“æ£§
- **å‰ç«¯**: React 18 + TypeScript, Material-UI (MUI) v5, Viteã€‚
- **å¾Œç«¯**: Firebase (Cloud Functions, Firestore, Authentication)ã€‚

### 4.2 é–‹ç™¼æ™‚ç¨‹ (é ä¼° 15 é€±)
- **Sprint 1-2 (4é€±)**: åŸºç¤æ¶æ§‹ã€å“¡å·¥èˆ‡å‡æ—¥ç®¡ç†ã€‚
- **Sprint 3-4 (4é€±)**: æ ¸å¿ƒæ’ç­æ¼”ç®—æ³•èˆ‡æ‰‹å‹•èª¿æ•´åŠŸèƒ½ã€‚
- **Sprint 5-6 (4é€±)**: è«‹å‡ã€æ›ç­ã€ä»£ç­ç”³è«‹èˆ‡å¯©æ ¸æµç¨‹ã€‚
- **Sprint 7-8 (3é€±)**: å…¨é¢ UI/UX å„ªåŒ–ã€éŸ¿æ‡‰å¼è¨­è¨ˆèˆ‡éƒ¨ç½²ã€‚

## 5. é™„éŒ„ï¼šç²¾ç°¡å¾Œç§»é™¤çš„å…§å®¹
ç‚ºæ±‚PRDç²¾ç°¡ï¼Œå·²å°‡ä¸‹åˆ—å…§å®¹ç§»é™¤ï¼Œè‹¥é–‹ç™¼éœ€è¦å¯å›æº¯ Git æ­·å²ç´€éŒ„ï¼š
- å†—é•·çš„ç¨‹å¼ç¢¼ç¯„ä¾‹èˆ‡æŠ€è¡“ç´°ç¯€
- é‡è¤‡çš„åŠŸèƒ½æè¿°
- èˆŠç‰ˆçš„UI/UXè¦åŠƒ
- è¼ƒä¸é‡è¦çš„éåŠŸèƒ½æ€§éœ€æ±‚ç´°ç¯€
